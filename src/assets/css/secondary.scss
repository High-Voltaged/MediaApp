@import '_vars';
@import '_extensions';
@import '_mixins';


// COMMUNITYPAGE -- CommunityPage


.page__community {
   width: calc(100% - 2.5rem);
   margin-right: 1.25rem;
   margin-left: 1.25rem;

   &__header {
      min-height: 10.625rem;
      width: calc(100% - 5rem);
      margin-right: 2.5rem;
      margin-left: 2.5rem;

      .header-content {
         padding: 20px 35px;
         
         border-radius: 0 0 40px 40px;
         background: linear-gradient(rgba(var(--color-gray-light), 1), rgba(var(--color-gray-4), 1));
         box-shadow: 0 4px 6px 0 rgba(0, 0, 0, .3);

         &__info {
            max-width: 25rem;
            margin-left: 42px;

            .title {
               color: rgba(var(--color-white-1), 1);
               @include typography(22px, 500, 1.5);
               text-shadow: var(--heading-shadow);
            }

            .category span {
               color: rgba(255, 255, 255, .7);
            }

            .followers_num > .num {
               color: rgba(var(--color-purple-1), 1);
               @include typography(16px, 500, var(--l-height));
            }

            .followers_num > .text {
               color: rgba(var(--color-white-1), 1);
               @include typography(16px, 400, var(--l-height));
            }

            .description {
               color: rgba(var(--color-white-1), 1);
               @include typography(14px, 400, var(--l-height));
            }
         }

         &__follow {
            margin-left: 42px;
         }
      }
      
      &__el {
         position: absolute;
         top: -8px;
         left: -43px;
      }
   }

   &__posts {
      width: 600px;
      margin-right: 70px;

      .posts-content {
         &__header {
            padding: 6px 30px;

            border-radius: 20px 20px 0 0;
            background-color: #24262A; // ----
            box-shadow: 0 0 6px 0 rgba(0, 0, 0, .5);
            
            .title {
               color: rgba(var(--color-white-1), 1);
               @include typography(16px, 500, var(--l-height-sm));
               text-shadow: var(--subheading-shadow);
            }
         } 
         
         &__posts {
            margin-top: 0.75rem;
            padding: 30px 24px;

            background-color: #24262A; // ----
            box-shadow: 0 0 6px 0 rgba(0, 0, 0, .5);
         }

         &__post {
            &__main {
               padding: 12px 30px;
               
               border-radius: 20px 20px 5px 5px;
               background-color: rgba(var(--color-gray-3), 1);
               box-shadow: 0 0 6px rgba(0, 0, 0, .7);

               .post__rate {
                  left: -12px;
                  top: -12px;

                  span {
                     @include typography(13px, 500, var(--l-height));
                     color: rgba(var(--color-white-1), 1);
                  }

                  .vs-button__content {
                     padding: 10px 6px;
                  }
               }

               .post__header span {
                  @include typography(12px, 300, var(--l-height-sm));
                  color: rgba(255, 255, 255, .75);
               }

               .post__title {
                  margin-top: 10px;

                  span {
                     @include typography(15px, 400, 1.4);
                     color: rgba(var(--color-white-1), 1);
                  }
               }
            }

            &__secondary {
               padding: 5px 22px;
               margin-left: .5rem;
               margin-right: .5rem;

               border-radius: 0 0 20px 20px;
               background-color: rgba(var(--color-featured), 1);
               box-shadow: 0 0 6px rgba(0, 0, 0, .7);

               .post__comments span {
                  @include typography(12px, 500, var(--l-height));
                  color: rgba(var(--color-purple-1), 1);
               }
            }
         }
      }
   }

   &__info {
      width: auto;

      .info-content {
         width: 17.5rem;
         max-height: 18.125rem;
         padding: 20px;

         border-radius: 20px 0 0 20px;
         background: linear-gradient(225deg, rgba(var(--color-gray-3), 1), rgba(var(--color-featured), 1) 80%);
         box-shadow: 0 0 10px 0 rgba(0, 0, 0, .35);

         &__title {
            color: rgba(var(--color-white-1), 1);
            @include typography(16px, 500, var(--l-height-sm));
            text-shadow: var(--subheading-shadow);
         }

         &__admins {
            margin-top: 0.875rem;
         }

         &__admin {
            &:not(:first-child) {
               margin-top: 1.125rem;
            }

            .username {
               color: rgba(var(--color-white-1), 1);
               @include typography(14px, 500, var(--l-height));
            }

            .mini-shadow-btn {
               box-shadow: 0 0 4px 0 rgba(0, 0, 0, .2);
            }
         }
      }

      &-btn {
         margin-top: 40px;
         margin-left: -30px;

         button {
            border-radius: 8px 0 0 8px !important;
            box-shadow: 0 0 8px 0 rgba(0, 0, 0, .4);
            &:hover {
               box-shadow: 0 0 10px 0 rgba(0, 0, 0, .5);
            }
         }
      }
   }
}


// SUGGESTED CONTAINER -- MessagesPage


.suggested-container {

   width: var(--secondary-util-width);
   height: 100%;
   max-height: 100%;

   &.collapsed {
      width: var(--navbar-util-height) !important;
      margin-left: 2rem;
      @extend %base_transition;
   }

   &__bar {
      height: var(--navbar-util-height);
   }

   &__collapse-btn {
      svg {
         color: rgba(var(--color-white-2), 1);
      }
   }

}


// CATEGORY CONTAINER -- CommunitiesPage


.category-container {
   width: 40%;
   height: 100%;
   max-height: 100%;
   padding-top: var(--navbar-util-height);

   &__content {
      border-radius: 20px 0 0 20px;
      // background-color: rgba(var(--color-gray-2), 1);
      background: linear-gradient(135deg, rgba(var(--color-gray-light), 1), rgb(26, 27, 30));
      box-shadow: 0 0 18px 0px rgba(0, 0, 0, .3);
   }

   &__badge {
      transform: rotate(270deg);

      z-index: 20;
   }
}


// COMMUNITY CARD -- Global

.community-card {

   min-height: var(--community-card-height);
   border-radius: 15px;
   // background-color: rgba(var(--color-gray-light), 1);
   background-color: rgba(var(--color-gray-4), 1);
   box-shadow: var(--card-shadow);
   @extend %base_transition;
   z-index: 50;

   &:hover, &:focus, &:active {
      box-shadow: var(--card-shadow-hover);
      transform: translate(0, 6px);
   }

   &__name {
      color: rgba(var(--color-white-2), 1);
      @include typography(14px, 500, var(--l-height));
   }

   &__tag {
      span {
         color: rgba(var(--color-white-2), .8);
         @include typography(12px, 400, var(--l-height));
      }
   }

   &__followers {

      > div {
         color: rgba(var(--color-white-2), .8);
      }

      > span {
         color: rgba(var(--color-white-2), .8);
         @include typography(13px, 400, var(--l-height));
      }
   }

   &__badge {
      span {
         color: rgba(var(--color-white-2), 1);
         @include typography(10px, 600, var(--l-height));
      }
   }

   &__join.reduced {
      position: absolute;
      right: -6px;
      top: -6px;

      .vs-button__content {
         padding: 6px !important;
      }
   }

}


// TABS (MESSAGES | COMMUNITY) STYLING -- Global

.tab-util {
   
   > span {
      color: rgba(var(--color-white-2), .5);
      @include typography(14px, 500, var(--l-height));
      @extend %base_transition;

      &.selected {
         color: rgba(var(--color-white-2), 1);
      }

      &:hover, &:focus {
         color: rgba(var(--color-white-2), 1);
      }
   }

   > .selected-badge {
      height: 5px;
      width: 35px;

      border-radius: 20px 20px 0 0;
      background-color: rgba(var(--color-purple-1), 1);
      @extend %base_transition;

      &.selected {
         opacity: 1;
         transform: translateY(0);
      }

      &.unselected {
         opacity: 0;
         transform: translateY(5px);
      }
   } 
}

// CATEGORY TAB -- Global


.category-tab {

   background-color: transparent;
   @extend %base_transition;
  
   &:hover, &:focus {
      background-color: rgba(var(--color-gray-3), .2);
   }

   &.selected {
      background-color: rgba(var(--color-gray-3), .4);
   }

   &__icon {
      &.selected > svg {
         color: rgba(var(--color-purple-1), 1);
      }

      > svg {
         color: rgba(var(--color-white-2), 1);
         @extend %base_transition;
      }
   }

   &__text {
      &.selected > span {
         color: rgba(var(--color-purple-1), 1);
      }

      > span {
         color: rgba(var(--color-white-2), 1);
         @include typography(15px, 400, var(--l-height));
         @extend %base_transition;
      }
   }
   
   &__selected {
      width: 2.5px;
      margin: 0;

      background-color: rgba(var(--color-purple-1), 1);
      @extend %base_transition;

      &.selected-badge {
         transform: translateX(0);
         opacity: 1;
      }
      &.unselected-badge {
         transform: translateX(-3px);
         opacity: 0;
      }
   }
}


// OTHER


.background-card {
   height: 50%;

   border-radius: 15px;
   background-color: rgba(var(--color-gray-light), 1);
   @extend %base_transition;
   
   &.background-card-1 {
      @include background-card(1, 1rem, .7);
      transition-delay: .1s;
   }
   &.background-card-2 {
      @include background-card(2, 2rem, .5);
      transition-delay: .2s;
   }
}





// BUTTON STYLING -- OVERRIDING

// note : use 'icon' attribute for icon btns

.shadow-button {
   background-color: rgba(var(--color-gray-1), 1) !important;
   color: white !important;

   &:focus, &:hover, &:active {
      box-shadow: 0 8px 25px 0 rgba(0, 0, 0, .75) !important;
   }
}


// INPUT STYLING -- OVERRIDING

.vs-input-content .vs-input__icon, input, textarea, 
.vs-select__input, .vs-select__chips, .vs-select__options, .vs-select__option {
   background-color: rgba(var(--color-gray-1), 1) !important;
}

.vs-input-parent, .vs-input {
   width: 100% !important;
}

.vs-input {

   &__icon {
      width: 30px !important;
      height: 30px !important;

      box-shadow: 12px 0 10px -10px rgba(0, 0, 0, .75) !important;
   }

   &--has-icon ~ .vs-input__label {
      left: 34px !important;
   }

   &--has-icon {
      padding-left: 34px !important;
   }

   
}

.vs-input-parent--border .vs-input-content .vs-input__affects__1 {
   border-bottom-color: rgba(var(--color-white-2), .8) !important;
}

input {

   &:focus & ~ .vs-input__label, .vs-select__label,
   &:focus ~ .vs-input__icon > svg, &:focus ~ .vs-input__icon > span,
   &:active ~ .vs-input__icon > svg, &:active ~ .vs-input__icon > span {
      color: rgba(var(--color-purple-1), 1)!important;
   } 

   ~ .vs-input__label {
      color: rgba(var(--color-white-2), 1) !important;
   }

}

input, textarea  {
   white-space: pre-wrap !important;
   overflow-wrap: break-words !important;

   color: rgba(var(--color-white-2), .5) !important;
   &:focus, &:active {
      color: rgba(var(--color-white-1), 1) !important;
   }
}

// CARD & AVATAR STYLING -- OVERRIDING


.vs-card {
   background: rgba(var(--color-gray-3), 1) !important;
   box-shadow: var(--avatar-shadow) !important; 

   max-width: none !important;

   .vs-card__text {
      width: 100%;
   }
}


.vs-avatar {
   -webkit-box-shadow: var(--avatar-shadow) !important;
   box-shadow: var(--avatar-shadow) !important;
   background: transparent !important;

   &:hover, &:focus, &:active {
      -webkit-box-shadow: var(--avatar-shadow) !important;
      box-shadow: var(--avatar-shadow) !important;
   }

   &-content.history .vs-avatar {
      border: 2px solid rgba(var(--color-gray-light), 1) !important;
   }
}

.info-section {
   .vs-avatar {
      background: rgba(var(--color-gray-3), 1) !important;
      box-shadow: none !important;
   }
   .vs-avatar-content {
      background: rgba(var(--color-gray-3), 1) !important;
   }
}

.navbar-util {
   .vs-avatar ~ .vs-avatar__badge {
      border-color: rgba(var(--color-gray-3), 1) !important;
   }
}

.message-card .vs-avatar {
   ~ .vs-avatar__badge {
      border-color: rgba(var(--color-gray-light), 1) !important;
   }
}

